# {{ ansible_managed }}

#Port 77 #TODO Add Variable
#AddressFamily any
#ListenAddress 0.0.0.0
#ListenAddress ::

#HostKey /etc/ssh/ssh_host_rsa_key
#HostKey /etc/ssh/ssh_host_ecdsa_key
#HostKey /etc/ssh/ssh_host_ed25519_key

# Ciphers and keying
#RekeyLimit default none

# Logging
SyslogFacility AUTH #TODO Add Variable
LogLevel INFO #TODO Add Variable

# Authentication: 

LoginGraceTime 2m
#PermitRootLogin prohibit-password
StrictModes yes
MaxAuthTries 6
MaxSessions 1

PubkeyAuthentication yes #TODO Add Variable

AuthorizedKeysFile	.ssh/authorized_keys

#AuthorizedPrincipalsFile none

#AuthorizedKeysCommand none
#AuthorizedKeysCommandUser nobody

#HostbasedAuthentication no
#HostbasedAuthentication
#IgnoreUserKnownHosts no
#IgnoreRhosts yes

# To disable tunneled clear text passwords, change to no here!
PasswordAuthentication no #TODO Add Variable
PermitEmptyPasswords no #TODO Add Variable

# Change to no to disable s/key passwords
ChallengeResponseAuthentication no #TODO Add Variable

# Kerberos options
#KerberosAuthentication no
#KerberosOrLocalPasswd yes
#KerberosTicketCleanup yes
#KerberosGetAFSToken no

# GSSAPI options
#GSSAPIAuthentication no
#GSSAPICleanupCredentials yes

UsePAM yes

#AllowAgentForwarding yes
#AllowTcpForwarding yes
#GatewayPorts no
#X11Forwarding no #TODO Add Variable
#X11DisplayOffset 10 #TODO Add Variable
#X11UseLocalhost yes
#PermitTTY yes #TODO Add Variable
PrintMotd no #TODO Add Variable
PrintLastLog yes #TODO Add Variable
#TCPKeepAlive yes
#PermitUserEnvironment no
#Compression delayed
#ClientAliveInterval 0
#ClientAliveCountMax 3
UseDNS no #TODO Add Variable
#PidFile /run/sshd.pid #TODO Add Variable
#MaxStartupPrints 10:30:100 #TODO Add Variable
#PermitTunnel no #TODO Add Variable
#ChrootDirectory none
#VersionAddendum none

# no default banner path
Banner /etc/ssh_banner #TODO Add Variable

# override default of no subsystems
Subsystem	sftp	/usr/lib/ssh/sftp-server #TODO Add Variable

# Example of overriding settings on a per-user basis
#Match User anoncvs
#	X11Forwarding no
#	AllowTcpForwarding no
#	PermitTTY no
#	ForceCommand cvs server
